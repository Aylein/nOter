/*! nOter 11-08-2015 @AyleinOter */
!function(){var a=function(){this.id="",this.sign="ao",this.width=0,this.height=0,this.images=[],this.type="view",this.speed=4e3,this.shiftspeed=600,this.asborn=10,this.shift="left-right",this.position="right-bottom",this.click="click"},b="javascript:void(0);",c=function(a,b){for(var c in b)c in a&&(a[c]=b[c]);return a},d={clearNode:function(a){for(;a.lastChild;)a.removeChild(a.lastChild)},event:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},makeImage:function(a,c,d){var e=document.createElement("DIV");e.style.cssText="width:"+c+"px;height:"+d+"px;position:absolute;left:"+c+"px;top:0;background-color:#0000ff;";var f=document.createElement("A");f.href=a.url,f.target=a.url==b?"_self":"_blank",f.title=a.title;var g=document.createElement("IMG");return g.style.cssText="width:100%;height:100%;border:none;",g.src=a.src,f.appendChild(g),e.appendChild(f),e},makeA:function(a){var c=document.createElement("A");return c.style.cssText="dispaly:inline-block;height:"+a+"px;width:"+a+"px;margin-right:5px;float:left;background-color:#ffffff;",c.href=b,c},style:function(a,b,c){b in a.style&&(a.style[b]=c)},show:function(a){d.style(a,"left",0)},hide:function(a){var b=a.clientWidth+"px";d.style(a,"left",b)}},e=window.EF=function(d){if(d=c(new a,d),!d.width||!d.height){var e=g.parentNode;d.width=d.width?d.width:e.clientWidth,d.height=d.height?d.height:e.clientHeight}var g=document.getElementById(d.id);if(!g)throw new Error("no element selected");g.style.cssText="width:"+d.width+"px;height: "+d.height+"px;position:relative;overflow:hidden;";for(var h=g.getElementsByTagName("IMG"),i=[],j=0,k=h.length;k>j;j++)i.push({url:h[j].getAttribute("url")?h[j].getAttribute("url"):b,title:h[j].getAttribute("title")?h[j].getAttribute("title"):"",src:h[j].getAttribute("src")?h[j].getAttribute("src"):""});for(var j=0,k=d.images.length;k>j;j++)i.push({url:b,title:d.images[j].title?d.images[j].title:"",src:d.images[j].src?d.images[j].src:""});d.images=i;var l=document.createElement("div");return l.style.cssText="display:block;position:absolute;overflow:hidden;",new f.init(g,l,d)},f=e.fn=e.prototype={init:function(a,b,c){this.opt=c,this.domain=a,this.asborn=b,this.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,this.length=c.images.length,this.doms={},this.turning={ing:!1,signs:{},witdh:0,step:0,len:0,z:this.opt.shiftspeed/1e3*60,az:Math.abs(this.opt.shiftspeed-100)/1e3*60},this.turning.aeStep=Math.ceil(this.opt.asborn/this.turning.az);for(var e=this,f=1,g=this.length;g>=f;f++)this.doms[f.toString()]={sign:f,url:c.images[f-1].url,title:c.images[f-1].title,src:c.images[f-1].src,clone:!1,img:d.makeImage(c.images[f-1],c.width,c.height),a:d.makeA(this.opt.asborn,this.opt.shiftspeed/1e3)};if(2==this.length){for(g+=this.length;g>=f;f++)this.doms[f.toString()]={sign:f,url:c.images[f-this.length-1].url,title:c.images[f-this.length-1].title,src:c.images[f-this.length-1].src,clone:!0,img:d.makeImage(c.images[f-this.length-1],c.width,c.height),a:this.doms[(f-this.length).toString()].a};this.length=4}d.clearNode(a),d.event(a,"mouseenter",function(){e.clearTM()}),d.event(a,"mouseleave",function(){e.tm=setTimeout(function(){e.makeTM()},e.opt.speed)});for(var h in this.doms)!function(){var a=e.doms[h];e.domain.appendChild(a.img),a.clone||e.asborn.appendChild(a.a),d.event(a.a,"click",function(){e.turnTo(a)})}();switch(a.appendChild(b),c.position){case"top":b.style.top="10px",b.style.left=(this.opt.width-b.clientWidth)/2+"px";break;case"bottom":b.style.bottom="10px",b.style.left=(this.opt.width-b.clientWidth)/2+"px";break;case"left-top":b.style.top="10px",b.style.left="10px";break;case"right-top":b.style.top="10px",b.style.right="5px";break;case"left-bottom":b.style.bottom="10px",b.style.left="10px";break;case"right-bottom":b.style.bottom="10px",b.style.right="5px";break;case"none":b.style.display="none"}this.curTo=this.first(),this.makeCur(),this.tm=setTimeout(function(){e.makeTM()},this.opt.speed)},makeTM:function(){this.turnNext();var a=this;this.tm=setTimeout(function(){a.makeTM()},this.opt.speed)},clearTM:function(){clearTimeout(this.tm)},first:function(){return this.get(1)},last:function(){return this.get(this.length)},all:function(){return this.doms},get:function(a){return a=a||!1,a?a.sign?a:this.doms[a.toString()]:void 0},pref:function(a){return a=this.get(a),a||(a=this.cur),a=a.sign>1?a.sign-1:this.length,this.doms[a]},next:function(a){return a=this.get(a),a||(a=this.cur),a=a.sign<this.length?a.sign+1:1,this.doms[a]},style:function(a,b,c){d.style(a,b,c)},stopTurning:function(){for(var a in this.turning.signs)clearTimeout(this.turning.signs[a].st)},clearTurning:function(){for(var a in this.turning.signs)clearTimeout(this.turning.signs[a].st),clearTimeout(this.turning.signs[a].ast),this.turning.signs[a]=void 0,delete this.turning.signs[a];this.turning.len=0,this.turning.begin=this.turning.end=void 0,this.turning.ing=!1,this.turning.step=0,this.turning.eStep=0},turningTo:function(){var a=this;a.turning.ing=!0;for(var b in this.turning.signs)!function(){var c=a.doms[b],e=a.turning.signs[b];e.st=setTimeout(function(){var b=parseInt(c.img.style.left,10),d=e.toL-b;d>0?d=d>a.turning.eStep?a.turning.eStep:d:0>d&&(d=d<-a.turning.eStep?-a.turning.eStep:d),0!=d?(a.style(c.img,"left",b+d+"px"),e.st=setTimeout(arguments.callee,16.7)):c.sign==a.curTo.sign&&(a.clearTurning(),a.makeCur())},16.7),e.ast=setTimeout(function(){var b,f=parseFloat(c.a.style.width);c.sign!=a.turning.end.sign?f>a.opt.asborn&&(b=f-a.opt.asborn,b=b>a.turning.aeStep?a.turning.aeStep:b,d.style(c.a,"width",f-b+"px"),e.ast=setTimeout(arguments.callee,a.turning.az)):f<2*a.opt.asborn&&(b=2*a.opt.asborn-f,b=b>a.turning.aeStepn?a.turning.aeStep:b,d.style(c.a,"width",f+a.turning.aeStep+"px"),e.ast=setTimeout(arguments.callee,a.turning.az))},a.turning.az)}()},makeTurning:function(a){if(a=a||!1){a="string"==typeof a?this.get(a):a;var b,c=parseInt(a.sign)-parseInt(this.cur.sign),e=this.length;b=0==c?0:c>0&&e/2>=c?c:Math.abs(c)>e/2?c>0?c-e:c+e:c;var f=this.opt.width*b,g=b>0,h=0,i=-b,j=this.cur,k=a,l=parseInt(this.cur.img.style.left);if(this.turning.ing){var m=b*this.turning.step;m>0?k=Math.abs(b)<Math.abs(this.turning.step)?this.turning.end:k:0>m?(b=this.turning.step>0?e+b:-e+b,i=-b,g=b>0,f=this.opt.width*b):0==b&&(f=this.opt.width*this.turning.step,h=i=this.turning.step,g=this.turning.step<0,j=this.turning.end)}else if(0==b)return;this.turning.len=Math.abs(b)+1,this.turning.begin=j;for(var n,o,p,q=g?"next":"pref";;)if(o=this.opt.width*h,p=this.turning.signs[j.sign],p||d.style(j.img,"left",o+l+"px"),n=this.opt.width*i,this.turning.signs[j.sign]={i:h,toL:n,st:0,l:parseInt(j.img.style.left)},j=this[q](j),h=g?h+1:h-1,i=g?i+1:i-1,j.sign==k.sign)break;o=this.opt.width*h,p=this.turning.signs[j.sign],p||d.style(j.img,"left",o+l+"px"),n=this.opt.width*i,this.turning.signs[j.sign]={i:h,toL:n,st:0,l:parseInt(j.img.style.left)},this.turning.step=b,this.turning.eStep=Math.abs(Math.ceil(f/this.turning.z)),this.curTo=a,this.turning.end=j,this.turningTo()}},turnTo:function(a){this.stopTurning(),this.makeTurning(a)},turnNext:function(){this.stopTurning(),this.makeTurning(this.next())},turnPrev:function(){this.stopTurning(),this.makeTurning(this.pref())},makeCur:function(){this.cur=this.curTo;for(var a in this.doms)a!=this.cur.sign?(d.hide(this.doms[a].img),d.style(this.doms[a].a,"width",this.opt.asborn+"px")):(d.show(this.cur.img),d.style(this.doms[a].a,"width",2*this.opt.asborn+"px"))}};f.init.prototype=f}();